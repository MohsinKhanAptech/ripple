let winHeight,winWidth,mousePosX,mousePosY,delay,running=!0,paused=!1,dragged=0,rippleClass="ripple-new",randomAnimDuration=!1;rippleRun();const rippleContainer=document.querySelector(".ripple-container");async function rippleRun(){!0===running&&!1===paused&&setTimeout((()=>{ripple(),rippleRun()}),await getRandomInt(500,2e3))}async function cursorRippleRun(e,n){1===dragged&&setTimeout((async()=>{ripple(e,n),delay=250,cursorRippleRun(mousePosX,mousePosY)}),delay),delay=150}async function ripple(e=null,n=null){null!==e&&null!==n||(e=await getRandomInt(0,winWidth),n=await getRandomInt(0,winHeight));let t=document.createElement("div");t.classList.add(rippleClass),t.style.left=e+"px",t.style.top=n+"px";let o=5e3;!0===randomAnimDuration&&(o=await getRandomInt(3e3,6e3)+"ms"),t.style.animationDuration=o,rippleContainer.appendChild(t),setTimeout((()=>{rippleContainer.removeChild(t)}),o)}delay=150,rippleContainer.addEventListener("mousedown",(async()=>{dragged=1,cursorRippleRun(mousePosX,mousePosY)})),document.addEventListener("mouseup",(async()=>{dragged=0})),window.addEventListener("blur",(async()=>{running=!1,playPauseIconControls.pause()})),window.addEventListener("focus",(async()=>{!1===paused&&(running=!0,rippleRun(),playPauseIconControls.play())}));const resizeObserver=new ResizeObserver((e=>{winHeight=e[0].target.clientHeight,winWidth=e[0].target.clientWidth}));async function getRandomInt(e,n){return Math.floor(Math.random()*(n-e+1))+e}function ButtonsControl(e,n,t,o="hide"){return{toggle:async function(){e.forEach((async e=>{e.classList.toggle(o)}))},play:async function(){e.forEach((async e=>{e.classList.contains(n)?e.classList.add(o):e.classList.remove(o)}))},pause:async function(){e.forEach((async e=>{e.classList.contains(t)?e.classList.add(o):e.classList.remove(o)}))}}}resizeObserver.observe(document.body),document.addEventListener("pointermove",(async e=>{mousePosX=e.clientX,mousePosY=e.clientY}));const playPauseContainer=document.querySelector(".play-pause"),playPauseBtn=document.querySelectorAll(".play-pause > .icon"),playPauseIconControls=ButtonsControl(playPauseBtn,"play","pause");playPauseContainer.addEventListener("click",(async()=>{paused=!paused,rippleRun(),playPauseIconControls.toggle()}));const volumeContainer=document.querySelector(".volume-control"),volumeBtn=document.querySelectorAll(".volume-control > .icon"),volumeIconControls=ButtonsControl(volumeBtn,"volume-mute","volume-full"),backgroundMusic=new Audio("audio/After Rain â€” Zackross.mp3");backgroundMusic.loop=!0,backgroundMusic.volume=.05,backgroundMusic.play(),volumeContainer.addEventListener("click",(async()=>{volumeIconControls.toggle(),!1===backgroundMusic.paused?(backgroundMusic.pause(),musicEnableSetting.checked=!1):(backgroundMusic.play(),musicEnableSetting.checked=!0)}));const cogwheelBtn=document.querySelector(".cogwheel"),optionCloseBtn=document.querySelector(".option-close"),optionsMenu=document.querySelector(".options");async function optionsMenuToggle(){optionsMenu.classList.toggle("hide")}cogwheelBtn.addEventListener("click",optionsMenuToggle),optionCloseBtn.addEventListener("click",optionsMenuToggle);const settingsHeader=document.querySelector(".settings-header"),audioHeader=document.querySelector(".audio-header"),optionMenus=document.querySelectorAll(".options-container > *");settingsHeader.addEventListener("click",(async()=>{settingsHeader.classList.add("option-selected"),audioHeader.classList.remove("option-selected"),optionMenus.forEach((async e=>{e.style.translate="0%"}))})),audioHeader.addEventListener("click",(async()=>{audioHeader.classList.add("option-selected"),settingsHeader.classList.remove("option-selected"),optionMenus.forEach((async e=>{e.style.translate="-100%"}))}));const rippleStyleSetting=document.querySelector("#ripple-style");rippleStyleSetting.addEventListener("change",(async()=>{let e=rippleStyleSetting.value;rippleClass="new"===e?"ripple-new":"ripple-old"}));const rippleAnimationDuration=document.querySelector("#anim-duration");rippleAnimationDuration.addEventListener("change",(async()=>{let e=rippleAnimationDuration.checked;randomAnimDuration=!0===e}));const musicEnableSetting=document.querySelector("#music-play");!0===backgroundMusic.paused?(volumeIconControls.toggle(),musicEnableSetting.checked=!1):musicEnableSetting.checked=!0,musicEnableSetting.addEventListener("change",(async()=>{!0===musicEnableSetting.checked?(backgroundMusic.play(),volumeIconControls.play()):(backgroundMusic.pause(),volumeIconControls.pause())}));const volumeSetting=document.querySelectorAll(".music-volume");volumeSetting.forEach((async e=>{e.addEventListener("change",(async()=>{let n=parseInt(e.value);if(NaN!==n&&n>=0&&n<=100){volumeSetting[0].value=volumeSetting[1].value=e.value;let n=e.value/100;backgroundMusic.volume=n}else backgroundMusic.volume=volumeSetting[0].value=volumeSetting[1].value=50}))}));const themeContainer=document.querySelector(".theme-control"),themeBtn=document.querySelectorAll(".theme-control > .icon"),themeIconControls=ButtonsControl(themeBtn,"sun","moon");function setTheme(e){localStorage.setItem("theme",e),document.documentElement.className=e}function toggleTheme(){"dark-theme"===localStorage.getItem("theme")?setTheme("light-theme"):setTheme("dark-theme")}themeContainer.addEventListener("click",(async()=>{themeIconControls.toggle(),toggleTheme()})),"dark-theme"===localStorage.getItem("theme")?(setTheme("dark-theme"),themeIconControls.toggle()):setTheme("light-theme");
